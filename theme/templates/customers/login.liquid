<div class="page-header">
  <div class="container">
    <h1 class="page-title">Login</h1>
    <p class="page-subtitle">Welcome back! Sign in to your account</p>
  </div>
</div>

<div class="page-content">
  <div class="container">
    <div style="max-width: 450px; margin: 0 auto;">
      <div class="contact-form">
        {% form 'customer_login' %}
          {{ form.errors | default_errors }}
          
          <div class="form-group">
            <label class="form-label" for="customer-email">Email</label>
            <input type="email" id="customer-email" name="customer[email]" class="form-input" required autocomplete="email">
          </div>
          
          <div class="form-group">
            <label class="form-label" for="customer-password">Password</label>
            <input type="password" id="customer-password" name="customer[password]" class="form-input" required autocomplete="current-password">
          </div>
          
          <button type="submit" class="btn btn-primary" style="width: 100%;">Sign In</button>
          
          <div style="text-align: center; margin-top: 25px;">
            <a href="#recover" id="recover-link" style="color: var(--color-primary);">Forgot your password?</a>
          </div>
        {% endform %}
        
        <div id="recover-form" style="display: none; margin-top: 40px; padding-top: 40px; border-top: 1px solid var(--color-border);">
          <h3 style="margin-bottom: 20px;">Reset Password</h3>
          {% form 'recover_customer_password' %}
            {{ form.errors | default_errors }}
            
            {% if form.posted_successfully? %}
              <div style="background: rgba(0, 255, 127, 0.1); border: 1px solid var(--color-primary); padding: 20px; border-radius: var(--border-radius); margin-bottom: 25px;">
                <p style="color: var(--color-primary); margin: 0;">We've sent you an email with a link to reset your password.</p>
              </div>
            {% endif %}
            
            <div class="form-group">
              <label class="form-label" for="recover-email">Email</label>
              <input type="email" id="recover-email" name="email" class="form-input" required>
            </div>
            
            <button type="submit" class="btn btn-primary" style="width: 100%;">Send Reset Link</button>
            
            <div style="text-align: center; margin-top: 20px;">
              <a href="#" id="cancel-recover" style="color: var(--color-text-muted);">Cancel</a>
            </div>
          {% endform %}
        </div>
      </div>
      
      <div style="text-align: center; margin-top: 40px; padding: 30px; background: var(--color-background-secondary); border: 1px solid var(--color-border); border-radius: 12px;">
        <p style="margin-bottom: 15px;">Don't have an account?</p>
        <a href="/account/register" class="btn btn-secondary">Create Account</a>
      </div>
    </div>
  </div>
</div>

<script>
document.getElementById('recover-link').addEventListener('click', function(e) {
  e.preventDefault();
  document.getElementById('recover-form').style.display = 'block';
});

document.getElementById('cancel-recover').addEventListener('click', function(e) {
  e.preventDefault();
  document.getElementById('recover-form').style.display = 'none';
});
</script>
