<div class="page-header">
  <div class="container">
    <h1 class="page-title">Your Cart</h1>
    <p class="page-subtitle">Review your items before checkout</p>
  </div>
</div>

<div class="cart-page">
  <div class="container">
    {% if cart.item_count > 0 %}
      <div class="cart-layout">
        <div class="cart-items">
          {% for item in cart.items %}
            <div class="cart-item">
              <div class="cart-item-image">
                {% if item.image %}
                  <img src="{{ item.image | image_url: width: 200 }}" alt="{{ item.title }}">
                {% else %}
                  <img src="https://images.unsplash.com/photo-1584308666744-24d5c474f2ae?w=200&q=80" alt="{{ item.title }}">
                {% endif %}
              </div>
              <div class="cart-item-info">
                <h3><a href="{{ item.url }}">{{ item.product.title }}</a></h3>
                {% if item.variant.title != 'Default Title' %}
                  <p>{{ item.variant.title }}</p>
                {% endif %}
                <div class="quantity-selector" style="margin-top: 15px;">
                  <button type="button" class="quantity-btn" onclick="updateCartItem('{{ item.key }}', {{ item.quantity | minus: 1 }})">âˆ’</button>
                  <input type="number" value="{{ item.quantity }}" min="1" class="quantity-input" onchange="updateCartItem('{{ item.key }}', this.value)">
                  <button type="button" class="quantity-btn" onclick="updateCartItem('{{ item.key }}', {{ item.quantity | plus: 1 }})">+</button>
                </div>
              </div>
              <div class="cart-item-price">{{ item.line_price | money }}</div>
              <button class="cart-item-remove" onclick="removeCartItem('{{ item.key }}')" aria-label="Remove item">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <line x1="18" y1="6" x2="6" y2="18"></line>
                  <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
              </button>
            </div>
          {% endfor %}
        </div>
        
        <div class="cart-summary">
          <h3>Order Summary</h3>
          
          <div class="cart-summary-row">
            <span>Subtotal</span>
            <span>{{ cart.total_price | money }}</span>
          </div>
          
          <div class="cart-summary-row">
            <span>Shipping</span>
            <span>{% if cart.total_price >= 7500 %}FREE{% else %}Calculated at checkout{% endif %}</span>
          </div>
          
          <div class="cart-summary-row total">
            <span>Total</span>
            <span>{{ cart.total_price | money }}</span>
          </div>
          
          <form action="/checkout" method="post">
            <button type="submit" class="btn btn-primary checkout-btn">
              Proceed to Checkout
            </button>
          </form>
          
          <div class="cart-trust">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
              <path d="M9 12l2 2 4-4"/>
            </svg>
            <span>Secure 256-bit SSL Encryption</span>
          </div>
          
          <div style="margin-top: 25px; padding-top: 25px; border-top: 1px solid var(--color-border);">
            <p style="font-size: 0.85rem; color: var(--color-text-muted); text-align: center; margin-bottom: 15px;">We Accept</p>
            <div style="display: flex; justify-content: center; gap: 10px;">
              <svg width="40" height="25" viewBox="0 0 50 30" fill="#fff"><rect width="50" height="30" rx="4" fill="#1a1f71"/><text x="25" y="19" text-anchor="middle" fill="#fff" font-size="8" font-weight="bold">VISA</text></svg>
              <svg width="40" height="25" viewBox="0 0 50 30" fill="#fff"><rect width="50" height="30" rx="4" fill="#eb001b"/><circle cx="20" cy="15" r="8" fill="#eb001b"/><circle cx="30" cy="15" r="8" fill="#f79e1b"/></svg>
              <svg width="40" height="25" viewBox="0 0 50 30" fill="#fff"><rect width="50" height="30" rx="4" fill="#003087"/><text x="25" y="19" text-anchor="middle" fill="#fff" font-size="7" font-weight="bold">PayPal</text></svg>
            </div>
          </div>
        </div>
      </div>
    {% else %}
      <div class="cart-empty">
        <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="var(--color-text-muted)" stroke-width="1" style="margin-bottom: 30px;">
          <circle cx="9" cy="21" r="1"></circle>
          <circle cx="20" cy="21" r="1"></circle>
          <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
        </svg>
        <h2>Your cart is empty</h2>
        <p>Looks like you haven't added anything to your cart yet.</p>
        <a href="/collections/all" class="btn btn-primary">Start Shopping</a>
      </div>
    {% endif %}
  </div>
</div>
