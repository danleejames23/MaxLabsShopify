<div class="page-header">
  <div class="container">
    <h1 class="page-title">Your Cart</h1>
    <p class="page-subtitle">Review your items before checkout</p>
  </div>
</div>

<div class="cart-page">
  <div class="container">
    {% if cart.item_count > 0 %}
      <div class="cart-layout">
        <div class="cart-items">
          {% for item in cart.items %}
            <div class="cart-item">
              <div class="cart-item-image">
                {% if item.image %}
                  <img src="{{ item.image | image_url: width: 200 }}" alt="{{ item.title }}">
                {% else %}
                  <img src="https://images.unsplash.com/photo-1584308666744-24d5c474f2ae?w=200&q=80" alt="{{ item.title }}">
                {% endif %}
              </div>
              <div class="cart-item-info">
                <h3><a href="{{ item.url }}">{{ item.product.title }}</a></h3>
                {% if item.variant.title != 'Default Title' %}
                  <p>{{ item.variant.title }}</p>
                {% endif %}
                <div class="quantity-selector" style="margin-top: 15px;">
                  <button type="button" class="quantity-btn" onclick="updateCartItem('{{ item.key }}', {{ item.quantity | minus: 1 }})">âˆ’</button>
                  <input type="number" value="{{ item.quantity }}" min="1" class="quantity-input" onchange="updateCartItem('{{ item.key }}', this.value)">
                  <button type="button" class="quantity-btn" onclick="updateCartItem('{{ item.key }}', {{ item.quantity | plus: 1 }})">+</button>
                </div>
              </div>
              <div class="cart-item-price">{{ item.line_price | money }}</div>
              <button class="cart-item-remove" onclick="removeCartItem('{{ item.key }}')" aria-label="Remove item">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <line x1="18" y1="6" x2="6" y2="18"></line>
                  <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
              </button>
            </div>
          {% endfor %}
        </div>
        
        <div class="cart-summary">
          <h3>Order Summary</h3>
          
          <div class="cart-summary-row">
            <span>Subtotal</span>
            <span>{{ cart.total_price | money }}</span>
          </div>
          
          <div class="cart-summary-row">
            <span>Shipping</span>
            <span>{% if cart.total_price >= 7500 %}FREE{% else %}Calculated at checkout{% endif %}</span>
          </div>
          
          <div class="cart-summary-row total">
            <span>Total</span>
            <span>{{ cart.total_price | money }}</span>
          </div>
          
          <form action="/checkout" method="post">
            <button type="submit" class="btn btn-primary checkout-btn">
              Proceed to Checkout
            </button>
          </form>
          
          <div class="cart-trust">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
              <path d="M9 12l2 2 4-4"/>
            </svg>
            <span>Secure 256-bit SSL Encryption</span>
          </div>
          
          <div style="margin-top: 25px; padding-top: 25px; border-top: 1px solid var(--color-border);">
            <p style="font-size: 0.85rem; color: var(--color-text-muted); text-align: center; margin-bottom: 15px;">We Accept</p>
            <div style="display: flex; justify-content: center; gap: 10px;">
              <!-- Visa -->
              <svg width="40" height="25" viewBox="0 0 42 26" fill="none">
                <rect width="42" height="26" rx="4" fill="#1434CB"/>
                <path d="M17.5 17L19 9H21L19.5 17H17.5Z" fill="#FFF"/>
                <path d="M27 9.2C26.5 9 25.8 8.8 25 8.8C23 8.8 21.5 9.8 21.5 11.2C21.5 12.3 22.5 12.9 23.2 13.2C24 13.5 24.2 13.8 24.2 14.1C24.2 14.6 23.6 14.8 23 14.8C22.2 14.8 21.7 14.7 21 14.4L20.7 14.3L20.5 16C21 16.2 21.9 16.4 22.9 16.4C25 16.4 26.4 15.4 26.4 13.9C26.4 13 25.9 12.4 24.7 11.9C24 11.6 23.6 11.4 23.6 11C23.6 10.7 24 10.4 24.7 10.4C25.4 10.4 25.9 10.5 26.2 10.6L26.4 10.7L27 9.2Z" fill="#FFF"/>
                <path d="M30.5 9H29C28.5 9 28.1 9.1 27.9 9.6L25 17H27.2L27.6 15.8H30.3L30.5 17H32.5L30.5 9ZM28.2 14.2C28.3 13.7 29 11.8 29 11.8L29.2 11.2L29.3 11.8C29.3 11.8 29.7 13.6 29.8 14.2H28.2Z" fill="#FFF"/>
                <path d="M15.5 9L13.5 14.2L13.2 13C12.8 11.7 11.6 10.3 10.2 9.6L12 17H14.3L17.8 9H15.5Z" fill="#FFF"/>
                <path d="M11.5 9H8.5V9.1C11 9.7 12.7 11.3 13.2 13L12.5 9.6C12.4 9.2 12 9 11.5 9Z" fill="#FAA61A"/>
              </svg>
              <!-- Mastercard -->
              <svg width="40" height="25" viewBox="0 0 42 26" fill="none">
                <rect width="42" height="26" rx="4" fill="#1A1F2E"/>
                <circle cx="16" cy="13" r="7" fill="#EB001B"/>
                <circle cx="26" cy="13" r="7" fill="#F79E1B"/>
                <path d="M21 7.5C22.5 8.7 23.5 10.7 23.5 13C23.5 15.3 22.5 17.3 21 18.5C19.5 17.3 18.5 15.3 18.5 13C18.5 10.7 19.5 8.7 21 7.5Z" fill="#FF5F00"/>
              </svg>
              <!-- PayPal -->
              <svg width="40" height="25" viewBox="0 0 42 26" fill="none">
                <rect width="42" height="26" rx="4" fill="#003087"/>
                <path d="M15 7H18C20 7 21 8 20.8 9.5C20.5 11.5 19 13 17 13H16L15.5 16H13.5L15 7Z" fill="#FFF"/>
                <path d="M17 9H18C18.6 9 19 9.3 18.9 9.9C18.7 10.7 18.2 11.2 17.4 11.2H16.6L17 9Z" fill="#003087"/>
                <path d="M22 7H25C27 7 28 8 27.8 9.5C27.5 11.5 26 13 24 13H23L22.5 16H20.5L22 7Z" fill="#009CDE"/>
                <path d="M24 9H25C25.6 9 26 9.3 25.9 9.9C25.7 10.7 25.2 11.2 24.4 11.2H23.6L24 9Z" fill="#003087"/>
              </svg>
              <!-- Stripe -->
              <svg width="40" height="25" viewBox="0 0 42 26" fill="none">
                <rect width="42" height="26" rx="4" fill="#635BFF"/>
                <path d="M19.5 11.2C19.5 10.6 20 10.3 20.8 10.3C22 10.3 23.4 10.7 24.6 11.3V8.2C23.3 7.7 22 7.5 20.8 7.5C17.8 7.5 16 9 16 11.4C16 15.2 21.2 14.6 21.2 16.2C21.2 16.9 20.6 17.2 19.7 17.2C18.4 17.2 16.8 16.6 15.5 15.9V19C16.9 19.6 18.4 19.8 19.7 19.8C22.8 19.8 24.7 18.4 24.7 16C24.7 11.9 19.5 12.6 19.5 11.2Z" fill="#FFF"/>
              </svg>
            </div>
          </div>
        </div>
      </div>
    {% else %}
      <div class="cart-empty">
        <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="var(--color-text-muted)" stroke-width="1" style="margin-bottom: 30px;">
          <circle cx="9" cy="21" r="1"></circle>
          <circle cx="20" cy="21" r="1"></circle>
          <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
        </svg>
        <h2>Your cart is empty</h2>
        <p>Looks like you haven't added anything to your cart yet.</p>
        <a href="/collections/all" class="btn btn-primary">Start Shopping</a>
      </div>
    {% endif %}
  </div>
</div>
