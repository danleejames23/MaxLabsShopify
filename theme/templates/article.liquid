<div class="page-header">
  <div class="container">
    <div style="max-width: 800px; margin: 0 auto;">
      <a href="{{ blog.url }}" style="color: var(--color-primary); font-size: 0.9rem; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 20px; display: inline-block;">
        ← Back to {{ blog.title }}
      </a>
      <h1 class="page-title" style="font-size: 2.5rem;">{{ article.title }}</h1>
      <div style="display: flex; gap: 20px; justify-content: center; color: var(--color-text-muted); font-size: 0.9rem; margin-top: 20px;">
        <span>{{ article.published_at | date: '%B %d, %Y' }}</span>
        <span>•</span>
        <span>By {{ article.author }}</span>
        {% if article.tags.size > 0 %}
          <span>•</span>
          <span>{{ article.tags | join: ', ' }}</span>
        {% endif %}
      </div>
    </div>
  </div>
</div>

<div class="page-content">
  <div class="container">
    <article style="max-width: 800px; margin: 0 auto;">
      {% if article.image %}
        <div style="margin-bottom: 40px; border-radius: 12px; overflow: hidden;">
          <img src="{{ article.image | image_url: width: 1200 }}" alt="{{ article.title }}" style="width: 100%;">
        </div>
      {% endif %}
      
      <div class="article-content" style="font-size: 1.1rem; line-height: 1.9;">
        {{ article.content }}
      </div>
      
      {% if article.tags.size > 0 %}
        <div style="margin-top: 50px; padding-top: 30px; border-top: 1px solid var(--color-border);">
          <span style="font-weight: 600; margin-right: 10px;">Tags:</span>
          {% for tag in article.tags %}
            <a href="{{ blog.url }}/tagged/{{ tag | handle }}" style="display: inline-block; padding: 5px 15px; background: var(--color-background-secondary); border: 1px solid var(--color-border); border-radius: 50px; font-size: 0.85rem; margin: 5px 5px 5px 0; transition: var(--transition-fast);">{{ tag }}</a>
          {% endfor %}
        </div>
      {% endif %}
      
      <!-- Share Buttons -->
      <div style="margin-top: 40px; padding: 30px; background: var(--color-background-secondary); border: 1px solid var(--color-border); border-radius: 12px; text-align: center;">
        <p style="font-weight: 600; margin-bottom: 15px;">Share this article</p>
        <div style="display: flex; gap: 15px; justify-content: center;">
          <a href="https://twitter.com/intent/tweet?url={{ shop.url }}{{ article.url }}&text={{ article.title | url_encode }}" target="_blank" style="width: 45px; height: 45px; display: flex; align-items: center; justify-content: center; background: var(--color-border); border-radius: 50%; transition: var(--transition-fast);">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
          </a>
          <a href="https://www.facebook.com/sharer/sharer.php?u={{ shop.url }}{{ article.url }}" target="_blank" style="width: 45px; height: 45px; display: flex; align-items: center; justify-content: center; background: var(--color-border); border-radius: 50%; transition: var(--transition-fast);">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
          </a>
          <a href="mailto:?subject={{ article.title | url_encode }}&body={{ shop.url }}{{ article.url }}" style="width: 45px; height: 45px; display: flex; align-items: center; justify-content: center; background: var(--color-border); border-radius: 50%; transition: var(--transition-fast);">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
          </a>
        </div>
      </div>
      
      <!-- Comments -->
      {% if blog.comments_enabled? %}
        <div style="margin-top: 60px;">
          <h3 style="font-family: var(--font-heading); margin-bottom: 30px;">Comments ({{ article.comments_count }})</h3>
          
          {% if article.comments.size > 0 %}
            {% for comment in article.comments %}
              <div style="padding: 25px; background: var(--color-background-secondary); border: 1px solid var(--color-border); border-radius: 12px; margin-bottom: 20px;">
                <div style="display: flex; justify-content: space-between; margin-bottom: 15px;">
                  <strong>{{ comment.author }}</strong>
                  <span style="color: var(--color-text-muted); font-size: 0.85rem;">{{ comment.created_at | date: '%B %d, %Y' }}</span>
                </div>
                <p style="margin: 0; color: var(--color-text-muted);">{{ comment.content }}</p>
              </div>
            {% endfor %}
          {% endif %}
          
          {% form 'new_comment', article %}
            <h4 style="margin: 40px 0 20px;">Leave a Comment</h4>
            
            {% if form.posted_successfully? %}
              <div style="background: rgba(0, 255, 127, 0.1); border: 1px solid var(--color-primary); padding: 20px; border-radius: var(--border-radius); margin-bottom: 25px;">
                <p style="color: var(--color-primary); margin: 0;">Thanks for your comment! It will appear after approval.</p>
              </div>
            {% endif %}
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
              <div class="form-group" style="margin: 0;">
                <label class="form-label" for="comment-author">Name *</label>
                <input type="text" id="comment-author" name="comment[author]" class="form-input" required>
              </div>
              <div class="form-group" style="margin: 0;">
                <label class="form-label" for="comment-email">Email *</label>
                <input type="email" id="comment-email" name="comment[email]" class="form-input" required>
              </div>
            </div>
            <div class="form-group">
              <label class="form-label" for="comment-body">Comment *</label>
              <textarea id="comment-body" name="comment[body]" class="form-textarea" required></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Post Comment</button>
          {% endform %}
        </div>
      {% endif %}
    </article>
  </div>
</div>
